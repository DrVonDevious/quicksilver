{"ast":null,"code":"var DomUtils = require(\"domutils\"),\n    isTag = DomUtils.isTag,\n    getParent = DomUtils.getParent,\n    getChildren = DomUtils.getChildren,\n    getSiblings = DomUtils.getSiblings,\n    getName = DomUtils.getName;\n/*\n\tall available rules\n*/\n\n\nmodule.exports = {\n  __proto__: null,\n  attribute: require(\"./attributes.js\").compile,\n  pseudo: require(\"./pseudos.js\").compile,\n  //tags\n  tag: function (next, data) {\n    var name = data.name;\n    return function tag(elem) {\n      return getName(elem) === name && next(elem);\n    };\n  },\n  //traversal\n  descendant: function (next) {\n    return function descendant(elem) {\n      var found = false;\n\n      while (!found && (elem = getParent(elem))) {\n        found = next(elem);\n      }\n\n      return found;\n    };\n  },\n  parent: function (next, data, options) {\n    if (options && options.strict) throw SyntaxError(\"Parent selector isn't part of CSS3\");\n    return function parent(elem) {\n      return getChildren(elem).some(test);\n    };\n\n    function test(elem) {\n      return isTag(elem) && next(elem);\n    }\n  },\n  child: function (next) {\n    return function child(elem) {\n      var parent = getParent(elem);\n      return !!parent && next(parent);\n    };\n  },\n  sibling: function (next) {\n    return function sibling(elem) {\n      var siblings = getSiblings(elem);\n\n      for (var i = 0; i < siblings.length; i++) {\n        if (isTag(siblings[i])) {\n          if (siblings[i] === elem) break;\n          if (next(siblings[i])) return true;\n        }\n      }\n\n      return false;\n    };\n  },\n  adjacent: function (next) {\n    return function adjacent(elem) {\n      var siblings = getSiblings(elem),\n          lastElement;\n\n      for (var i = 0; i < siblings.length; i++) {\n        if (isTag(siblings[i])) {\n          if (siblings[i] === elem) break;\n          lastElement = siblings[i];\n        }\n      }\n\n      return !!lastElement && next(lastElement);\n    };\n  },\n  universal: function (next) {\n    return next;\n  }\n};","map":{"version":3,"sources":["/Users/william/Dev/quicksilver/node_modules/cheerio/node_modules/css-select/lib/general.js"],"names":["DomUtils","require","isTag","getParent","getChildren","getSiblings","getName","module","exports","__proto__","attribute","compile","pseudo","tag","next","data","name","elem","descendant","found","parent","options","strict","SyntaxError","some","test","child","sibling","siblings","i","length","adjacent","lastElement","universal"],"mappings":"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","sourcesContent":["var DomUtils    = require(\"domutils\"),\n    isTag       = DomUtils.isTag,\n    getParent   = DomUtils.getParent,\n    getChildren = DomUtils.getChildren,\n    getSiblings = DomUtils.getSiblings,\n    getName     = DomUtils.getName;\n\n/*\n\tall available rules\n*/\nmodule.exports = {\n\t__proto__: null,\n\n\tattribute: require(\"./attributes.js\").compile,\n\tpseudo: require(\"./pseudos.js\").compile,\n\n\t//tags\n\ttag: function(next, data){\n\t\tvar name = data.name;\n\t\treturn function tag(elem){\n\t\t\treturn getName(elem) === name && next(elem);\n\t\t};\n\t},\n\n\t//traversal\n\tdescendant: function(next){\n\t\treturn function descendant(elem){\n\t\t\tvar found = false;\n\n\t\t\twhile(!found && (elem = getParent(elem))){\n\t\t\t\tfound = next(elem);\n\t\t\t}\n\n\t\t\treturn found;\n\t\t};\n\t},\n\tparent: function(next, data, options){\n\t\tif(options && options.strict) throw SyntaxError(\"Parent selector isn't part of CSS3\");\n\n\t\treturn function parent(elem){\n\t\t\treturn getChildren(elem).some(test);\n\t\t};\n\n\t\tfunction test(elem){\n\t\t\treturn isTag(elem) && next(elem);\n\t\t}\n\t},\n\tchild: function(next){\n\t\treturn function child(elem){\n\t\t\tvar parent = getParent(elem);\n\t\t\treturn !!parent && next(parent);\n\t\t};\n\t},\n\tsibling: function(next){\n\t\treturn function sibling(elem){\n\t\t\tvar siblings = getSiblings(elem);\n\n\t\t\tfor(var i = 0; i < siblings.length; i++){\n\t\t\t\tif(isTag(siblings[i])){\n\t\t\t\t\tif(siblings[i] === elem) break;\n\t\t\t\t\tif(next(siblings[i])) return true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\t},\n\tadjacent: function(next){\n\t\treturn function adjacent(elem){\n\t\t\tvar siblings = getSiblings(elem),\n\t\t\t    lastElement;\n\n\t\t\tfor(var i = 0; i < siblings.length; i++){\n\t\t\t\tif(isTag(siblings[i])){\n\t\t\t\t\tif(siblings[i] === elem) break;\n\t\t\t\t\tlastElement = siblings[i];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn !!lastElement && next(lastElement);\n\t\t};\n\t},\n\tuniversal: function(next){\n\t\treturn next;\n\t}\n};"]},"metadata":{},"sourceType":"script"}