{"ast":null,"code":"import React from'react';import{useSelector}from'react-redux';import'../css/CanvasContainer.css';import ReactDomServer from'react-dom/server';var CanvasContainer=function CanvasContainer(){var state=useSelector(function(state){return state;});var generatePageURL=function generatePageURL(_ref){var html=_ref.html,css=_ref.css,js=_ref.js;var getBlobURL=function getBlobURL(code,type){var blob=new Blob([code],{type:type});return URL.createObjectURL(blob);};var cssURL=getBlobURL(css,'text/css');var jsURL=getBlobURL(js,'text/javascript');var source=\"\\n      <html>\\n        <head>\\n          \".concat(css&&\"<link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"\".concat(cssURL,\"\\\" />\"),\"\\n          \").concat(js&&\"<script src=\\\"\".concat(jsURL,\"\\\"></script>\"),\"\\n        </head>\\n        <body>\\n          \").concat(html||'',\"\\n        </body>\\n      </html>\\n    \");return getBlobURL(source,'text/html');};var url=generatePageURL({html:state.code.html,css:state.code.css,js:state.code.js});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"iframe\",{className:\"main-canvas\",src:url,style:{width:state.canvas.width,height:state.canvas.height}}),/*#__PURE__*/React.createElement(\"div\",{className:\"iframe-shield\",style:{width:state.canvas.width,height:state.canvas.height}}));};export default CanvasContainer;","map":{"version":3,"sources":["/Users/william/Dev/quicksilver/client/src/containers/CanvasContainer.js"],"names":["React","useSelector","ReactDomServer","CanvasContainer","state","generatePageURL","html","css","js","getBlobURL","code","type","blob","Blob","URL","createObjectURL","cssURL","jsURL","source","url","width","canvas","height"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAO,4BAAP,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAE5B,GAAMC,CAAAA,KAAK,CAAGH,WAAW,CAAC,SAAAG,KAAK,QAAIA,CAAAA,KAAJ,EAAN,CAAzB,CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,MAAuB,IAApBC,CAAAA,IAAoB,MAApBA,IAAoB,CAAdC,GAAc,MAAdA,GAAc,CAATC,EAAS,MAATA,EAAS,CAE7C,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAEC,IAAF,CAAQC,IAAR,CAAkB,CACnC,GAAMC,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,CAAS,CAACH,IAAD,CAAT,CAAiB,CAACC,IAAI,CAAJA,IAAD,CAAjB,CAAb,CACA,MAAOG,CAAAA,GAAG,CAACC,eAAJ,CAAoBH,IAApB,CAAP,CACD,CAHD,CAKA,GAAMI,CAAAA,MAAM,CAAGP,UAAU,CAACF,GAAD,CAAM,UAAN,CAAzB,CACA,GAAMU,CAAAA,KAAK,CAAGR,UAAU,CAACD,EAAD,CAAK,iBAAL,CAAxB,CAEA,GAAMU,CAAAA,MAAM,qDAGJX,GAAG,8DAAoDS,MAApD,SAHC,wBAIJR,EAAE,0BAAoBS,KAApB,gBAJE,yDAOJX,IAAI,EAAI,EAPJ,0CAAZ,CAYA,MAAOG,CAAAA,UAAU,CAACS,MAAD,CAAS,WAAT,CAAjB,CAED,CAxBD,CA0BA,GAAMC,CAAAA,GAAG,CAAGd,eAAe,CAAC,CAACC,IAAI,CAAEF,KAAK,CAACM,IAAN,CAAWJ,IAAlB,CAAwBC,GAAG,CAAEH,KAAK,CAACM,IAAN,CAAWH,GAAxC,CAA6CC,EAAE,CAAEJ,KAAK,CAACM,IAAN,CAAWF,EAA5D,CAAD,CAA3B,CAEA,mBACE,4CACE,8BAAQ,SAAS,CAAC,aAAlB,CAAgC,GAAG,CAAEW,GAArC,CAA0C,KAAK,CAAE,CAACC,KAAK,CAAEhB,KAAK,CAACiB,MAAN,CAAaD,KAArB,CAA4BE,MAAM,CAAElB,KAAK,CAACiB,MAAN,CAAaC,MAAjD,CAAjD,EADF,cAEE,2BAAK,SAAS,CAAC,eAAf,CAA+B,KAAK,CAAE,CAACF,KAAK,CAAEhB,KAAK,CAACiB,MAAN,CAAaD,KAArB,CAA4BE,MAAM,CAAElB,KAAK,CAACiB,MAAN,CAAaC,MAAjD,CAAtC,EAFF,CADF,CAMD,CAtCD,CAwCA,cAAenB,CAAAA,eAAf","sourcesContent":["import React from 'react';\nimport { useSelector } from 'react-redux';\nimport '../css/CanvasContainer.css';\nimport ReactDomServer from 'react-dom/server'\n\nconst CanvasContainer = () => {\n\n  const state = useSelector(state => state);\n\n  const generatePageURL = ({ html, css, js }) => {\n\n    const getBlobURL = ( code, type ) => {\n      const blob = new Blob([code], {type});\n      return URL.createObjectURL(blob);\n    };\n\n    const cssURL = getBlobURL(css, 'text/css');\n    const jsURL = getBlobURL(js, 'text/javascript');\n\n    const source = `\n      <html>\n        <head>\n          ${css && `<link rel=\"stylesheet\" type=\"text/css\" href=\"${cssURL}\" />`}\n          ${js && `<script src=\"${jsURL}\"></script>`}\n        </head>\n        <body>\n          ${html || ''}\n        </body>\n      </html>\n    `\n\n    return getBlobURL(source, 'text/html');\n\n  };\n\n  const url = generatePageURL({html: state.code.html, css: state.code.css, js: state.code.js});\n\n  return (\n    <div>\n      <iframe className=\"main-canvas\" src={url} style={{width: state.canvas.width, height: state.canvas.height}}/>\n      <div className=\"iframe-shield\" style={{width: state.canvas.width, height: state.canvas.height}} />\n    </div>\n  );\n};\n\nexport default CanvasContainer;\n"]},"metadata":{},"sourceType":"module"}