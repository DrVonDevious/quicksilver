{"ast":null,"code":"import _toConsumableArray from\"/Users/william/Dev/quicksilver/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React from'react';import{useSelector,useDispatch}from'react-redux';import{toggleSaveForm}from'../reducers/saveReducer';import{setComponents}from'../reducers/loadReducer';import'../css/SaveComponentContainer.css';var SaveComponentForm=function SaveComponentForm(){var dispatch=useDispatch();var state=useSelector(function(state){return state;});var handleSave=function handleSave(e,isLibrary){e.preventDefault();if(state.code.componentName.indexOf(' ')!==-1||state.code.componentName===\"\"){alert(\"Name mustn't be empty or contain any spaces!\");}else{var token=localStorage.getItem(\"token\");if(isLibrary){fetch(\"http://localhost:8080/library_components\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)},body:JSON.stringify({name:state.code.componentName,js_code:state.code.js,css_code:state.code.css,html_code:state.code.html,img_src:\"https://pics.me.me/thumb_pepehands-emote-pepe-t-shirt-teepublic-51219604.png\"})}).then(function(res){return res.json();}).then(function(comp){dispatch(toggleSaveForm());dispatch(setComponents([].concat(_toConsumableArray(state.load.components),[comp])));});}else{fetch(\"http://localhost:8080/user_components\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)},body:JSON.stringify({name:state.code.componentName,user_id:state.user.currentUser.id,js_code:state.code.js,css_code:state.code.css,html_code:state.code.html,img_src:\"https://pics.me.me/thumb_pepehands-emote-pepe-t-shirt-teepublic-51219604.png\"})}).then(function(res){return res.json();}).then(function(comp){dispatch(toggleSaveForm());dispatch(setComponents([].concat(_toConsumableArray(state.load.components),[comp])));});}}};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{className:\"save-label\"},\"Do you wish to save this component as \",/*#__PURE__*/React.createElement(\"br\",null),state.code.componentName,\"?\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{className:\"yes-btn\",onClick:function onClick(e){return handleSave(e,false);}},/*#__PURE__*/React.createElement(\"svg\",{className:\"bi bi-check\",width:\"2em\",height:\"2em\",viewBox:\"0 0 16 16\",stroke:\"green\",fill:\"green\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"path\",{fillRule:\"evenodd\",d:\"M13.854 3.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3.5-3.5a.5.5 0 11.708-.708L6.5 10.293l6.646-6.647a.5.5 0 01.708 0z\",clipRule:\"evenodd\"}))),/*#__PURE__*/React.createElement(\"button\",{className:\"no-btn\",onClick:function onClick(){return dispatch(toggleSaveForm());}},/*#__PURE__*/React.createElement(\"svg\",{className:\"bi bi-x\",width:\"2em\",height:\"2em\",viewBox:\"0 0 16 16\",stroke:\"red\",fill:\"currentColor\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"path\",{fillRule:\"evenodd\",d:\"M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z\",clipRule:\"evenodd\"}),/*#__PURE__*/React.createElement(\"path\",{fillRule:\"evenodd\",d:\"M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z\",clipRule:\"evenodd\"}))),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return handleSave(e,true);}},\"Save To Library\"));};export default SaveComponentForm;","map":{"version":3,"sources":["/Users/william/Dev/quicksilver/client/src/components/SaveComponentForm.js"],"names":["React","useSelector","useDispatch","toggleSaveForm","setComponents","SaveComponentForm","dispatch","state","handleSave","e","isLibrary","preventDefault","code","componentName","indexOf","alert","token","localStorage","getItem","fetch","method","headers","body","JSON","stringify","name","js_code","js","css_code","css","html_code","html","img_src","then","res","json","comp","load","components","user_id","user","currentUser","id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { toggleSaveForm } from '../reducers/saveReducer';\nimport { setComponents } from '../reducers/loadReducer';\nimport '../css/SaveComponentContainer.css';\n\nconst SaveComponentForm = () => {\n\n  const dispatch = useDispatch();\n  const state = useSelector(state => state);\n\n  const handleSave = (e, isLibrary) => {\n    e.preventDefault();\n    if (state.code.componentName.indexOf(' ') !== -1 || state.code.componentName === \"\") {\n      alert(\"Name mustn't be empty or contain any spaces!\");\n    } else {\n      const token = localStorage.getItem(\"token\");\n      if(isLibrary) {\n        fetch(\"http://localhost:8080/library_components\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${token}`\n          },\n          body: JSON.stringify({\n            name: state.code.componentName,\n            js_code: state.code.js,\n            css_code: state.code.css,\n            html_code: state.code.html,\n            img_src: \"https://pics.me.me/thumb_pepehands-emote-pepe-t-shirt-teepublic-51219604.png\",\n          })\n        })\n          .then(res => res.json())\n          .then(comp => {\n            dispatch(toggleSaveForm());\n            dispatch(setComponents([...state.load.components, comp]));\n          });\n      } else {\n        fetch(\"http://localhost:8080/user_components\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${token}`\n          },\n          body: JSON.stringify({\n            name: state.code.componentName,\n            user_id: state.user.currentUser.id,\n            js_code: state.code.js,\n            css_code: state.code.css,\n            html_code: state.code.html,\n            img_src: \"https://pics.me.me/thumb_pepehands-emote-pepe-t-shirt-teepublic-51219604.png\",\n          })\n        })\n          .then(res => res.json())\n          .then(comp => {\n            dispatch(toggleSaveForm());\n            dispatch(setComponents([...state.load.components, comp]));\n          });\n      }\n    }\n  };\n\n  return (\n    <div>\n      <label className=\"save-label\">Do you wish to save this component as <br/>{state.code.componentName}?</label>\n      <br/>\n      <button className=\"yes-btn\" onClick={(e) => handleSave(e, false)}>\n        <svg className=\"bi bi-check\" width=\"2em\" height=\"2em\" viewBox=\"0 0 16 16\" stroke=\"green\" fill=\"green\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path fillRule=\"evenodd\" d=\"M13.854 3.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3.5-3.5a.5.5 0 11.708-.708L6.5 10.293l6.646-6.647a.5.5 0 01.708 0z\" clipRule=\"evenodd\"/>\n        </svg>\n      </button>\n      <button className=\"no-btn\" onClick={() => dispatch(toggleSaveForm())}>\n        <svg className=\"bi bi-x\" width=\"2em\" height=\"2em\" viewBox=\"0 0 16 16\" stroke=\"red\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path fillRule=\"evenodd\" d=\"M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z\" clipRule=\"evenodd\"/>\n          <path fillRule=\"evenodd\" d=\"M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z\" clipRule=\"evenodd\"/>\n        </svg>\n      </button>\n      <button onClick={(e) => handleSave(e, true)}>Save To Library</button>\n    </div>\n  );\n};\n\nexport default SaveComponentForm;\n"]},"metadata":{},"sourceType":"module"}