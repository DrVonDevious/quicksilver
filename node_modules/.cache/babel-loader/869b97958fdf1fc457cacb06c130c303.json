{"ast":null,"code":"module.exports = parse; //following http://www.w3.org/TR/css3-selectors/#nth-child-pseudo\n//[ ['-'|'+']? INTEGER? {N} [ S* ['-'|'+'] S* INTEGER ]?\n\nvar re_nthElement = /^([+\\-]?\\d*n)?\\s*(?:([+\\-]?)\\s*(\\d+))?$/;\n/*\n\tparses a nth-check formula, returns an array of two numbers\n*/\n\nfunction parse(formula) {\n  formula = formula.trim().toLowerCase();\n\n  if (formula === \"even\") {\n    return [2, 0];\n  } else if (formula === \"odd\") {\n    return [2, 1];\n  } else {\n    var parsed = formula.match(re_nthElement);\n\n    if (!parsed) {\n      throw new SyntaxError(\"n-th rule couldn't be parsed ('\" + formula + \"')\");\n    }\n\n    var a;\n\n    if (parsed[1]) {\n      a = parseInt(parsed[1], 10);\n\n      if (isNaN(a)) {\n        if (parsed[1].charAt(0) === \"-\") a = -1;else a = 1;\n      }\n    } else a = 0;\n\n    return [a, parsed[3] ? parseInt((parsed[2] || \"\") + parsed[3], 10) : 0];\n  }\n}","map":{"version":3,"sources":["/Users/william/Dev/quicksilver/node_modules/nth-check/parse.js"],"names":["module","exports","parse","re_nthElement","formula","trim","toLowerCase","parsed","match","SyntaxError","a","parseInt","isNaN","charAt"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiBC,KAAjB,C,CAEA;AAEA;;AACA,IAAIC,aAAa,GAAG,yCAApB;AAEA;;;;AAGA,SAASD,KAAT,CAAeE,OAAf,EAAuB;AACtBA,EAAAA,OAAO,GAAGA,OAAO,CAACC,IAAR,GAAeC,WAAf,EAAV;;AAEA,MAAGF,OAAO,KAAK,MAAf,EAAsB;AACrB,WAAO,CAAC,CAAD,EAAI,CAAJ,CAAP;AACA,GAFD,MAEO,IAAGA,OAAO,KAAK,KAAf,EAAqB;AAC3B,WAAO,CAAC,CAAD,EAAI,CAAJ,CAAP;AACA,GAFM,MAEA;AACN,QAAIG,MAAM,GAAGH,OAAO,CAACI,KAAR,CAAcL,aAAd,CAAb;;AAEA,QAAG,CAACI,MAAJ,EAAW;AACV,YAAM,IAAIE,WAAJ,CAAgB,oCAAoCL,OAApC,GAA8C,IAA9D,CAAN;AACA;;AAED,QAAIM,CAAJ;;AAEA,QAAGH,MAAM,CAAC,CAAD,CAAT,EAAa;AACZG,MAAAA,CAAC,GAAGC,QAAQ,CAACJ,MAAM,CAAC,CAAD,CAAP,EAAY,EAAZ,CAAZ;;AACA,UAAGK,KAAK,CAACF,CAAD,CAAR,EAAY;AACX,YAAGH,MAAM,CAAC,CAAD,CAAN,CAAUM,MAAV,CAAiB,CAAjB,MAAwB,GAA3B,EAAgCH,CAAC,GAAG,CAAC,CAAL,CAAhC,KACKA,CAAC,GAAG,CAAJ;AACL;AACD,KAND,MAMOA,CAAC,GAAG,CAAJ;;AAEP,WAAO,CACNA,CADM,EAENH,MAAM,CAAC,CAAD,CAAN,GAAYI,QAAQ,CAAC,CAACJ,MAAM,CAAC,CAAD,CAAN,IAAa,EAAd,IAAoBA,MAAM,CAAC,CAAD,CAA3B,EAAgC,EAAhC,CAApB,GAA0D,CAFpD,CAAP;AAIA;AACD","sourcesContent":["module.exports = parse;\n\n//following http://www.w3.org/TR/css3-selectors/#nth-child-pseudo\n\n//[ ['-'|'+']? INTEGER? {N} [ S* ['-'|'+'] S* INTEGER ]?\nvar re_nthElement = /^([+\\-]?\\d*n)?\\s*(?:([+\\-]?)\\s*(\\d+))?$/;\n\n/*\n\tparses a nth-check formula, returns an array of two numbers\n*/\nfunction parse(formula){\n\tformula = formula.trim().toLowerCase();\n\n\tif(formula === \"even\"){\n\t\treturn [2, 0];\n\t} else if(formula === \"odd\"){\n\t\treturn [2, 1];\n\t} else {\n\t\tvar parsed = formula.match(re_nthElement);\n\n\t\tif(!parsed){\n\t\t\tthrow new SyntaxError(\"n-th rule couldn't be parsed ('\" + formula + \"')\");\n\t\t}\n\n\t\tvar a;\n\n\t\tif(parsed[1]){\n\t\t\ta = parseInt(parsed[1], 10);\n\t\t\tif(isNaN(a)){\n\t\t\t\tif(parsed[1].charAt(0) === \"-\") a = -1;\n\t\t\t\telse a = 1;\n\t\t\t}\n\t\t} else a = 0;\n\n\t\treturn [\n\t\t\ta,\n\t\t\tparsed[3] ? parseInt((parsed[2] || \"\") + parsed[3], 10) : 0\n\t\t];\n\t}\n}\n"]},"metadata":{},"sourceType":"script"}