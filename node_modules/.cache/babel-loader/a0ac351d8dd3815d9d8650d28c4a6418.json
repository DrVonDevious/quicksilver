{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch}from'react-redux';import{updateJS,updateCSS,updateHTML,resetCode}from'../reducers/codeReducer';import{removeComponent}from'../reducers/loadReducer';import'../css/ComponentItem.css';var ComponentItem=function ComponentItem(props){var dispatch=useDispatch();var component_url=props.component.user_id?\"user_components\":\"library_components\";var handleLoadComponent=function handleLoadComponent(){var token=localStorage.getItem(\"token\");fetch(\"http://localhost:8080/\".concat(component_url,\"/\").concat(props.component.id),{headers:{\"Authorization\":\"Bearer \".concat(token)}}).then(function(res){return res.json();}).then(function(component){if(component){dispatch(updateCSS(component.css_code));dispatch(updateHTML(component.html_code));dispatch(updateJS(component.js_code));};});};var handleDelete=function handleDelete(){var token=localStorage.getItem(\"token\");fetch(\"http://localhost:8080/user_components/\".concat(props.component.id),{method:\"DELETE\",headers:{\"Authorization\":\"Bearer \".concat(token)}}).then(function(res){return res.json();}).then(function(data){console.log(\"Deleted!\");console.log(data);dispatch(removeComponent(props.component.id));dispatch(resetCode());});};return/*#__PURE__*/React.createElement(\"div\",{style:{height:\"40px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"component-item\",onClick:handleLoadComponent},props.component.name),props.component.user_id?[/*#__PURE__*/React.createElement(\"button\",{className:\"delete-btn\",onClick:handleDelete},/*#__PURE__*/React.createElement(\"svg\",{className:\"delete-icon bi bi-x\",width:\"2.5em\",height:\"2.5em\",viewBox:\"0 0 16 16\",fill:\"currentColor\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"path\",{fillRule:\"evenodd\",d:\"M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z\",\"clip-rule\":\"evenodd\"}),/*#__PURE__*/React.createElement(\"path\",{fillRule:\"evenodd\",d:\"M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z\",\"clip-rule\":\"evenodd\"})))]:null);};export default ComponentItem;","map":{"version":3,"sources":["/Users/william/Dev/quicksilver/client/src/components/ComponentItem.js"],"names":["React","useEffect","useDispatch","updateJS","updateCSS","updateHTML","resetCode","removeComponent","ComponentItem","props","dispatch","component_url","component","user_id","handleLoadComponent","token","localStorage","getItem","fetch","id","headers","then","res","json","css_code","html_code","js_code","handleDelete","method","data","console","log","height","name"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,KAA4B,aAA5B,CAEA,OAASC,QAAT,CAAmBC,SAAnB,CAA8BC,UAA9B,CAA0CC,SAA1C,KAA2D,yBAA3D,CACA,OAASC,eAAT,KAAgC,yBAAhC,CACA,MAAO,0BAAP,CAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAE/B,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CAEA,GAAIS,CAAAA,aAAa,CAAGF,KAAK,CAACG,SAAN,CAAgBC,OAAhB,CAA0B,iBAA1B,CAA8C,oBAAlE,CAEA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CAChC,GAAMC,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CACAC,KAAK,iCAA0BP,aAA1B,aAA2CF,KAAK,CAACG,SAAN,CAAgBO,EAA3D,EAAiE,CACpEC,OAAO,CAAE,CACP,iCAA2BL,KAA3B,CADO,CAD2D,CAAjE,CAAL,CAKGM,IALH,CAKQ,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EALX,EAMGF,IANH,CAMQ,SAAAT,SAAS,CAAI,CACjB,GAAGA,SAAH,CAAc,CACZF,QAAQ,CAACN,SAAS,CAACQ,SAAS,CAACY,QAAX,CAAV,CAAR,CACAd,QAAQ,CAACL,UAAU,CAACO,SAAS,CAACa,SAAX,CAAX,CAAR,CACAf,QAAQ,CAACP,QAAQ,CAACS,SAAS,CAACc,OAAX,CAAT,CAAR,CACD,EACF,CAZH,EAaD,CAfD,CAiBA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAMZ,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CACAC,KAAK,iDAA0CT,KAAK,CAACG,SAAN,CAAgBO,EAA1D,EAAgE,CACnES,MAAM,CAAE,QAD2D,CAEnER,OAAO,CAAE,CACP,iCAA2BL,KAA3B,CADO,CAF0D,CAAhE,CAAL,CAMGM,IANH,CAMQ,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EANX,EAOGF,IAPH,CAOQ,SAAAQ,IAAI,CAAI,CACZC,OAAO,CAACC,GAAR,CAAY,UAAZ,EACAD,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAnB,QAAQ,CAACH,eAAe,CAACE,KAAK,CAACG,SAAN,CAAgBO,EAAjB,CAAhB,CAAR,CACAT,QAAQ,CAACJ,SAAS,EAAV,CAAR,CACD,CAZH,EAaD,CAfD,CAiBA,mBACE,2BAAK,KAAK,CAAE,CAAC0B,MAAM,CAAE,MAAT,CAAZ,eACE,2BAAK,SAAS,CAAC,gBAAf,CAAgC,OAAO,CAAElB,mBAAzC,EACGL,KAAK,CAACG,SAAN,CAAgBqB,IADnB,CADF,CAIIxB,KAAK,CAACG,SAAN,CAAgBC,OAAhB,CAA0B,cACxB,8BAAQ,SAAS,CAAC,YAAlB,CAA+B,OAAO,CAAEc,YAAxC,eACE,2BAAK,SAAS,CAAC,qBAAf,CAAqC,KAAK,CAAC,OAA3C,CAAmD,MAAM,CAAC,OAA1D,CAAkE,OAAO,CAAC,WAA1E,CAAsF,IAAI,CAAC,cAA3F,CAA0G,KAAK,CAAC,4BAAhH,eACE,4BAAM,QAAQ,CAAC,SAAf,CAAyB,CAAC,CAAC,6EAA3B,CAAyG,YAAU,SAAnH,EADF,cAEE,4BAAM,QAAQ,CAAC,SAAf,CAAyB,CAAC,CAAC,4EAA3B,CAAwG,YAAU,SAAlH,EAFF,CADF,CADwB,CAA1B,CAOE,IAXN,CADF,CAeD,CAvDD,CAyDA,cAAenB,CAAAA,aAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { updateJS, updateCSS, updateHTML, resetCode } from '../reducers/codeReducer';\nimport { removeComponent } from '../reducers/loadReducer';\nimport '../css/ComponentItem.css';\n\nconst ComponentItem = (props) => {\n\n  const dispatch = useDispatch();\n\n  var component_url = props.component.user_id ? \"user_components\" : \"library_components\";\n\n  const handleLoadComponent = () => {\n    const token = localStorage.getItem(\"token\");\n    fetch(`http://localhost:8080/${component_url}/${props.component.id}`, {\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      }\n    })\n      .then(res => res.json())\n      .then(component => {\n        if(component) {\n          dispatch(updateCSS(component.css_code));\n          dispatch(updateHTML(component.html_code));\n          dispatch(updateJS(component.js_code));\n        };\n      })\n  };\n\n  const handleDelete = () => {\n    const token = localStorage.getItem(\"token\");\n    fetch(`http://localhost:8080/user_components/${props.component.id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      }\n    })\n      .then(res => res.json())\n      .then(data => {\n        console.log(\"Deleted!\");\n        console.log(data);\n        dispatch(removeComponent(props.component.id));\n        dispatch(resetCode());\n      })\n  };\n\n  return (\n    <div style={{height: \"40px\"}}>\n      <div className=\"component-item\" onClick={handleLoadComponent}>\n        {props.component.name}\n      </div>\n      { props.component.user_id ? [\n          <button className=\"delete-btn\" onClick={handleDelete}>\n            <svg className=\"delete-icon bi bi-x\" width=\"2.5em\" height=\"2.5em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path fillRule=\"evenodd\" d=\"M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z\" clip-rule=\"evenodd\"/>\n              <path fillRule=\"evenodd\" d=\"M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z\" clip-rule=\"evenodd\"/>\n            </svg>\n          </button>\n      ] : null }\n    </div>\n  );\n};\n\nexport default ComponentItem;\n"]},"metadata":{},"sourceType":"module"}