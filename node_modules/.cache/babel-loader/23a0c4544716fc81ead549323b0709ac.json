{"ast":null,"code":"var _jsxFileName = \"/Users/william/Dev/quicksilver/src/components/ComponentItem.js\";\nimport React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { updateJS, updateCSS, updateHTML, resetCode } from '../reducers/codeReducer';\nimport { removeComponent } from '../reducers/loadReducer';\nimport '../css/ComponentItem.css';\n\nconst ComponentItem = props => {\n  const dispatch = useDispatch();\n  var component_url = props.component.user_id ? \"user_components\" : \"library_components\";\n\n  const handleLoadComponent = () => {\n    const token = localStorage.getItem(\"token\");\n    fetch(`http://localhost:8080/${component_url}/${props.component.id}`, {\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      }\n    }).then(res => res.json()).then(component => {\n      if (component) {\n        dispatch(updateCSS(component.css_code));\n        dispatch(updateHTML(component.html_code));\n        dispatch(updateJS(component.js_code));\n      }\n\n      ;\n    });\n  };\n\n  const handleDelete = () => {\n    const token = localStorage.getItem(\"token\");\n    fetch(`http://localhost:8080/user_components/${props.component.id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      }\n    }).then(res => res.json()).then(data => {\n      console.log(\"Deleted!\");\n      console.log(data);\n      dispatch(removeComponent(props.component.id));\n      dispatch(resetCode());\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: \"40px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"component-item\",\n    onClick: handleLoadComponent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, props.component.name), props.component.user_id ? [/*#__PURE__*/React.createElement(\"button\", {\n    className: \"delete-btn\",\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"delete-icon bi bi-x\",\n    width: \"2.5em\",\n    height: \"2.5em\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z\",\n    \"clip-rule\": \"evenodd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z\",\n    \"clip-rule\": \"evenodd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  })))] : null);\n};\n\nexport default ComponentItem;","map":{"version":3,"sources":["/Users/william/Dev/quicksilver/src/components/ComponentItem.js"],"names":["React","useEffect","useDispatch","updateJS","updateCSS","updateHTML","resetCode","removeComponent","ComponentItem","props","dispatch","component_url","component","user_id","handleLoadComponent","token","localStorage","getItem","fetch","id","headers","then","res","json","css_code","html_code","js_code","handleDelete","method","data","console","log","height","name"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { updateJS, updateCSS, updateHTML, resetCode } from '../reducers/codeReducer';\nimport { removeComponent } from '../reducers/loadReducer';\nimport '../css/ComponentItem.css';\n\nconst ComponentItem = (props) => {\n\n  const dispatch = useDispatch();\n\n  var component_url = props.component.user_id ? \"user_components\" : \"library_components\";\n\n  const handleLoadComponent = () => {\n    const token = localStorage.getItem(\"token\");\n    fetch(`http://localhost:8080/${component_url}/${props.component.id}`, {\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      }\n    })\n      .then(res => res.json())\n      .then(component => {\n        if(component) {\n          dispatch(updateCSS(component.css_code));\n          dispatch(updateHTML(component.html_code));\n          dispatch(updateJS(component.js_code));\n        };\n      })\n  };\n\n  const handleDelete = () => {\n    const token = localStorage.getItem(\"token\");\n    fetch(`http://localhost:8080/user_components/${props.component.id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      }\n    })\n      .then(res => res.json())\n      .then(data => {\n        console.log(\"Deleted!\");\n        console.log(data);\n        dispatch(removeComponent(props.component.id));\n        dispatch(resetCode());\n      })\n  };\n\n  return (\n    <div style={{height: \"40px\"}}>\n      <div className=\"component-item\" onClick={handleLoadComponent}>\n        {props.component.name}\n      </div>\n      { props.component.user_id ? [\n          <button className=\"delete-btn\" onClick={handleDelete}>\n            <svg className=\"delete-icon bi bi-x\" width=\"2.5em\" height=\"2.5em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path fillRule=\"evenodd\" d=\"M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z\" clip-rule=\"evenodd\"/>\n              <path fillRule=\"evenodd\" d=\"M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z\" clip-rule=\"evenodd\"/>\n            </svg>\n          </button>\n      ] : null }\n    </div>\n  );\n};\n\nexport default ComponentItem;\n"]},"metadata":{},"sourceType":"module"}