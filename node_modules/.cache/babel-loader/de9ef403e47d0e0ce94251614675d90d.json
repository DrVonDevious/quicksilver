{"ast":null,"code":"var _jsxFileName = \"/Users/william/Dev/quicksilver/src/client/src/components/ComponentItem.js\";\nimport React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport dragula from 'react-dragula';\nimport { updateJS, updateCSS, updateHTML } from '../reducers/codeReducer';\nimport '../css/ComponentItem.css';\n\nconst ComponentItem = props => {\n  useEffect(() => {\n    var container = document.querySelector(\".component-item\");\n    dragula([container]);\n  });\n  const dispatch = useDispatch();\n\n  const handleLoadComponent = () => {\n    const token = localStorage.getItem(\"token\");\n    fetch(`http://localhost:8080/user_components/${props.component.id}`, {\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      }\n    }).then(res => res.json()).then(component => {\n      dispatch(updateCSS(component.css_code));\n      dispatch(updateHTML(component.html_code));\n      dispatch(updateJS(component.js_code));\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"component-item\",\n    onClick: handleLoadComponent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, props.component.name);\n};\n\nexport default ComponentItem;","map":{"version":3,"sources":["/Users/william/Dev/quicksilver/src/client/src/components/ComponentItem.js"],"names":["React","useEffect","useDispatch","dragula","updateJS","updateCSS","updateHTML","ComponentItem","props","container","document","querySelector","dispatch","handleLoadComponent","token","localStorage","getItem","fetch","component","id","headers","then","res","json","css_code","html_code","js_code","name"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,OAAP,MAAoB,eAApB;AAEA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,UAA9B,QAAgD,yBAAhD;AACA,OAAO,0BAAP;;AAEA,MAAMC,aAAa,GAAIC,KAAD,IAAW;AAE/BP,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIQ,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAAhB;AACAR,IAAAA,OAAO,CAAC,CAACM,SAAD,CAAD,CAAP;AACD,GAHQ,CAAT;AAKA,QAAMG,QAAQ,GAAGV,WAAW,EAA5B;;AAEA,QAAMW,mBAAmB,GAAG,MAAM;AAChC,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACAC,IAAAA,KAAK,CAAE,yCAAwCT,KAAK,CAACU,SAAN,CAAgBC,EAAG,EAA7D,EAAgE;AACnEC,MAAAA,OAAO,EAAE;AACP,yBAAkB,UAASN,KAAM;AAD1B;AAD0D,KAAhE,CAAL,CAKGO,IALH,CAKQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EALf,EAMGF,IANH,CAMQH,SAAS,IAAI;AACjBN,MAAAA,QAAQ,CAACP,SAAS,CAACa,SAAS,CAACM,QAAX,CAAV,CAAR;AACAZ,MAAAA,QAAQ,CAACN,UAAU,CAACY,SAAS,CAACO,SAAX,CAAX,CAAR;AACAb,MAAAA,QAAQ,CAACR,QAAQ,CAACc,SAAS,CAACQ,OAAX,CAAT,CAAR;AACD,KAVH;AAWD,GAbD;;AAeA,sBACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAgC,IAAA,OAAO,EAAEb,mBAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGL,KAAK,CAACU,SAAN,CAAgBS,IADnB,CADF;AAKD,CA7BD;;AA+BA,eAAepB,aAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport dragula from 'react-dragula';\n\nimport { updateJS, updateCSS, updateHTML } from '../reducers/codeReducer';\nimport '../css/ComponentItem.css';\n\nconst ComponentItem = (props) => {\n\n  useEffect(() => {\n    var container = document.querySelector(\".component-item\");\n    dragula([container]);\n  });\n\n  const dispatch = useDispatch();\n\n  const handleLoadComponent = () => {\n    const token = localStorage.getItem(\"token\");\n    fetch(`http://localhost:8080/user_components/${props.component.id}`, {\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      }\n    })\n      .then(res => res.json())\n      .then(component => {\n        dispatch(updateCSS(component.css_code));\n        dispatch(updateHTML(component.html_code));\n        dispatch(updateJS(component.js_code));\n      })\n  };\n\n  return (\n    <div className=\"component-item\" onClick={handleLoadComponent}>\n      {props.component.name}\n    </div>\n  );\n};\n\nexport default ComponentItem;\n"]},"metadata":{},"sourceType":"module"}