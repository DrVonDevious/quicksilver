{"ast":null,"code":"var _jsxFileName = \"/Users/william/Dev/quicksilver/src/client/src/components/ComponentItem.js\";\nimport React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { updateJS, updateCSS, updateHTML, resetCode } from '../reducers/codeReducer';\nimport { removeComponent } from '../reducers/loadReducer';\nimport '../css/ComponentItem.css';\n\nconst ComponentItem = props => {\n  const dispatch = useDispatch();\n\n  const handleLoadComponent = () => {\n    const token = localStorage.getItem(\"token\");\n    fetch(`http://localhost:8080/user_components/${props.component.id}`, {\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      }\n    }).then(res => res.json()).then(component => {\n      if (component) {\n        dispatch(updateCSS(component.css_code));\n        dispatch(updateHTML(component.html_code));\n        dispatch(updateJS(component.js_code));\n      }\n\n      ;\n    });\n  };\n\n  const handleDelete = () => {\n    const token = localStorage.getItem(\"token\");\n    fetch(`http://localhost:8080/user_components/${props.component.id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      }\n    }).then(res => res.json()).then(data => {\n      console.log(\"Deleted!\");\n      console.log(data);\n      dispatch(removeComponent(props.component.id));\n      dispatch(resetCode());\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"component-item\",\n    onClick: handleLoadComponent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, props.component.name, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"delete-btn\",\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, \"Delete\"));\n};\n\nexport default ComponentItem;","map":{"version":3,"sources":["/Users/william/Dev/quicksilver/src/client/src/components/ComponentItem.js"],"names":["React","useEffect","useDispatch","updateJS","updateCSS","updateHTML","resetCode","removeComponent","ComponentItem","props","dispatch","handleLoadComponent","token","localStorage","getItem","fetch","component","id","headers","then","res","json","css_code","html_code","js_code","handleDelete","method","data","console","log","name"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,UAA9B,EAA0CC,SAA1C,QAA2D,yBAA3D;AACA,SAASC,eAAT,QAAgC,yBAAhC;AACA,OAAO,0BAAP;;AAEA,MAAMC,aAAa,GAAIC,KAAD,IAAW;AAE/B,QAAMC,QAAQ,GAAGR,WAAW,EAA5B;;AAEA,QAAMS,mBAAmB,GAAG,MAAM;AAChC,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACAC,IAAAA,KAAK,CAAE,yCAAwCN,KAAK,CAACO,SAAN,CAAgBC,EAAG,EAA7D,EAAgE;AACnEC,MAAAA,OAAO,EAAE;AACP,yBAAkB,UAASN,KAAM;AAD1B;AAD0D,KAAhE,CAAL,CAKGO,IALH,CAKQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EALf,EAMGF,IANH,CAMQH,SAAS,IAAI;AACjB,UAAGA,SAAH,EAAc;AACZN,QAAAA,QAAQ,CAACN,SAAS,CAACY,SAAS,CAACM,QAAX,CAAV,CAAR;AACAZ,QAAAA,QAAQ,CAACL,UAAU,CAACW,SAAS,CAACO,SAAX,CAAX,CAAR;AACAb,QAAAA,QAAQ,CAACP,QAAQ,CAACa,SAAS,CAACQ,OAAX,CAAT,CAAR;AACD;;AAAA;AACF,KAZH;AAaD,GAfD;;AAiBA,QAAMC,YAAY,GAAG,MAAM;AACzB,UAAMb,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACAC,IAAAA,KAAK,CAAE,yCAAwCN,KAAK,CAACO,SAAN,CAAgBC,EAAG,EAA7D,EAAgE;AACnES,MAAAA,MAAM,EAAE,QAD2D;AAEnER,MAAAA,OAAO,EAAE;AACP,yBAAkB,UAASN,KAAM;AAD1B;AAF0D,KAAhE,CAAL,CAMGO,IANH,CAMQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EANf,EAOGF,IAPH,CAOQQ,IAAI,IAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAjB,MAAAA,QAAQ,CAACH,eAAe,CAACE,KAAK,CAACO,SAAN,CAAgBC,EAAjB,CAAhB,CAAR;AACAP,MAAAA,QAAQ,CAACJ,SAAS,EAAV,CAAR;AACD,KAZH;AAaD,GAfD;;AAiBA,sBACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAgC,IAAA,OAAO,EAAEK,mBAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGF,KAAK,CAACO,SAAN,CAAgBc,IADnB,eAEE;AAAQ,IAAA,SAAS,EAAC,YAAlB;AAA+B,IAAA,OAAO,EAAEL,YAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,CADF;AAMD,CA5CD;;AA8CA,eAAejB,aAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { updateJS, updateCSS, updateHTML, resetCode } from '../reducers/codeReducer';\nimport { removeComponent } from '../reducers/loadReducer';\nimport '../css/ComponentItem.css';\n\nconst ComponentItem = (props) => {\n\n  const dispatch = useDispatch();\n\n  const handleLoadComponent = () => {\n    const token = localStorage.getItem(\"token\");\n    fetch(`http://localhost:8080/user_components/${props.component.id}`, {\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      }\n    })\n      .then(res => res.json())\n      .then(component => {\n        if(component) {\n          dispatch(updateCSS(component.css_code));\n          dispatch(updateHTML(component.html_code));\n          dispatch(updateJS(component.js_code));\n        };\n      })\n  };\n\n  const handleDelete = () => {\n    const token = localStorage.getItem(\"token\");\n    fetch(`http://localhost:8080/user_components/${props.component.id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      }\n    })\n      .then(res => res.json())\n      .then(data => {\n        console.log(\"Deleted!\");\n        console.log(data);\n        dispatch(removeComponent(props.component.id));\n        dispatch(resetCode());\n      })\n  };\n\n  return (\n    <div className=\"component-item\" onClick={handleLoadComponent}>\n      {props.component.name}\n      <button className=\"delete-btn\" onClick={handleDelete}>Delete</button>\n    </div>\n  );\n};\n\nexport default ComponentItem;\n"]},"metadata":{},"sourceType":"module"}